{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Passport Power Index",
  "width": 800,
  "height": 400,
  "projection": {"type": "equalEarth"},
  "data": {
      "url": "https://raw.githubusercontent.com/ravindi-r/fit3179_vis2/main/data/ne_110m.json",
      "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
  },
  "transform": [
      {
          "lookup": "properties.NAME_LONG",
          "from": {
              "data": {
                  "url": "https://raw.githubusercontent.com/ravindi-r/fit3179_vis2/main/data/henleypassportindex_2022.csv"
              },
              "key": "COUNTRY",
              "fields": ["RANK", "ACCESS_TO_COUNTRIES"]
          }
      }
  ],
  "layer":[
      {
          "mark": {
              "type": "geoshape", 
              "fill": "white", 
              "stroke": "darkgray"
          },
          "encoding": {
              "tooltip": [
                      {
                          "field": "properties.NAME_LONG",
                          "type": "nominal",
                          "title": "Country"
                      }
              ]  
          }
      },
      {
          "mark": {"type": "geoshape"},
          "encoding": {
              "color": {
                  "field": "ACCESS_TO_COUNTRIES",
                  "type": "quantitative",
                  "scale": {
                      "type": "threshold",
                      "domain": [50,100,150],
                      "range": ["#ffffcc","#c2e699","#78c679","#238443"]
                  }
              },
              "tooltip":[
                  { 
                      "field": "properties.NAME_LONG",
                      "type": "nominal",
                      "title": "Country"
                  },
                  {
                      "field": "RANK",
                      "type": "quantitative",
                      "title": "Rank"
                  },
                  {
                      "field": "ACCESS_TO_COUNTRIES",
                      "type": "quantitative",
                      "title": "No. of Accessible Countries"
                  }
              ]
          }
      }
  ]
}